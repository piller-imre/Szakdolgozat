\chapter{Procedurális generálás}

\section{Procedurális generálás áttekintése}

\noindent A procedurális generálás egy módszer arra, hogy tartalmat hozzunk létre egy algoritmus segítségével. Tehát ebben az esetben a programozó nem “saját maga” fog előállítani tartalmat (esetünkben például egy térképet vagy egyéb objektumokat), hanem ő csak egy algoritmust fog készíteni ami helyette állítja elő a tartalmat. A számítógépi grafikában gyakran használják a véletlenszerű generálás fogalmat erre a jelenségre, amivel gyakran állítanak elő textúrákat vagy modelleket a játékokhoz. A procedurális generálás egyik nagy előnye az,  hogy nagy mennyiségű tartalom készíthető a játékhoz úgy, hogy emellett ez a tartalom még kevesebb helyet is foglaljon. Mindazonáltal, ha sikerül ezt a technikát jól alkalmaznunk, akkor a generálásnak a véletlenszerűségét kihasználva változatosabb, kevésbé előre megjósolható pályákat vagy feladatokat készíthetünk, ezáltal növelve a játékélményt.  

\section{Előfordulása a játékokban}

\noindent A műfaj egyik már-már legendásnak számító alkotása a \textit{Bethesda Softworks} által 1996-ban kiadott \textit{The Elder Scrolls II: Daggerfall}, amely egy nyílt világú szerepjáték. A játékban a játékosnak lehetősége van például létrehozni saját varázslatokat különböző hatásokkal, amiknek a költségét az algoritmus fogja meghatározni azáltal, hogy milyen erősségűre sikerült a varázslat. Hasonló módszerrel oldották meg a játékban a felszerelés fejlesztési rendszert, a ház és hajó vásárlást, a ruhák és felszerelések változatosságát. A játék ezenfelül rendelkezett dinamikus politikai rendszerrel. A politikai rendszerben számított az,  hogy a karakter milyen céhnek volt a tagja, milyen vallású volt, milyen feladatokat és küldetéseket, cselekedeteket hajtott végre. Ez alapján a politikai rendszer alapján dőlt el, hogy a különböző NPC-k (számítógép által irányított karakterek) hogyan viszonyultak a játékoshoz. 
\newline
\newline A \textit{Bethesda} állítása alapján a játék térképének a mérete közel azonos a Brit-szigetek méretével, számszerűen 229 848 $km^2$. A játékban több mint 15 000 település és város kapott helyett. Emellett több mint 750 000 NPC is szerepel. 
\newline
\newline A \textit{The Elder Scrolls II: Daggerfall}-nak az egyik legnagyobb negatívuma a generáláshoz felhasznált limitált mennyiségű építőelem volt, amiből a városok és a falvak épületei épültek fel. Ez sok játékosnál monotónia érzetet keltett. 
\newline
\newline 2002-ben a sorozat következő részében az alkotók már tanultak korábbi hibáikból és a \textit{The Elder Scrolls III: Morrowind} esetében a korábbinál jóval kisebb térképet készítettek ami körülbelül $0,01 \%$-a volt az előzőnek, számokban kifejezve 24 $km^2$. Viszont a kisebb térképnek köszönhetően a világot sokkal részletgazdagabbá tudták tenni. A városok, települések, és az NPC-k is sokkal egyedibb megjelenést kaptak.
\newline
\newline Az alkalmazáshoz amit készítettem megjelenésre leginkább a \textit{Civilization} széria hasonlít, amely az első négy részében még négyzetrácsot alkalmazott a térkép ábrázolásához, de 2010-ben a \textit{Civilization V} -ben már áttértek a hexagon alapú térképre. Általánosságban elmondható a \textit{Civilization} sorozat játékairól, hogy a térképek procedurálisan generáltak már 1990 óta, kivéve a Föld térképet (bár ebben is előfordulhattak kisebb eltérések játékról-játékra). A \textit{Civilization V} esetén a véletlenszerű térképek miatt majdnem minden esetben procedurálisan kellett generálni a hegyeket, folyókat, városokat, utakat. A játékos a játék kezdete előtt meghatározhatja, hogy milyen alakú legyen a térkép és annak egyéb tulajdonságait a széleskörű beállítási lehetőségek által. A játékosnak módjában áll létrehozni kis szigetekből álló szigetcsoportot (Archipeligo) egy nagyobb kontinenst (Pangaea) vagy akár olyan térképet ami két nagyobb kontinensből áll (Continents). A \textit{Civilization} procedurális generátorától a legtöbb esetben azt kapjuk amit várunk tőle, már előre tudható, hogy milyen térképet fog generálni. Semmi váratlan vagy szokatlan. De a \textit{Civilization} esetében pontosan erre is van szükségünk.
\newline
\newline Manapság talán a legismertebb játék ami procedurális generálást alkalmaz az a \textit{Minecraft}. A \textit{Minecraft} az egész játékvilág létrehozására algoritmusokat használ, ami óriási átalakításokon ment át az évek során. A játékmenet alapvetően két fő elemre építkezik a felfedezésre és az építésre. A felfedezés során lehet hozzájutni különböző nyersanyagokhoz amikből aztán később lehet építkezni. A \textit{Minecraft}-ban a felfedezést az teszi izgalmassá, hogy már-már végtelennek számító véletlenszerűen generált térképet sikerült megtölteni szokatlan természeti jelenségekkel amelyek néhány esetben a valóságon alapulnak de sok más esetben a fikcióval keveredik. Könnyen belátható, hogy egy jól működő procedurális generálás nélkül a \textit{Minecraft} nem lenne olyan sikeres. Az elméletileg végtelen térkép, a változatos növényzet és a kifejezetten jónak számító procedurális generáló algoritmus ellenére is azzal kell szembesülnünk, hogy rengeteg ismétlődéssel találkozunk. Globális szinten, ha jobban megfigyeljük a környezetet feltűnhet hogy 10-ből 9-szer nagyon hasonló képet látunk. Az apró részletek különbözőek lesznek de egészét tekintve nagyon sok hasonlóságot tudunk felfedezni a különböző részek között, a tipikus füves területek mellett pár kockányira mindig feltűnik egy-egy hegy, mivel így épülnek fel a különböző területek az algoritmusban. 
\newline
\newline \textit{A No Man’s Sky} bejelentésekor hatalmas vihart kavart, hiszen olyan egyedülálló játékélményt ígért, amit még más játékban nem tapasztalhattunk. Gyakorlatilag végtelen méretű univerzumot ígért, ahol minden bolygó és minden lény procedurálisan generált. A végeredmény csalódást keltő volt, hiszen a vártakkal ellentétben mégsem volt minden egyedi és a megvalósítással is akadtak problémák. Főleg a bolygók esetében volt megfigyelhető, hogy a különböző nyersanyagokat leszámítva nem volt túl sok különbség. A játéknak a procedurális generátora túlságosan véletlenszerűen generált bizonyos lényeket, ezáltal furcsa és nem túl realisztikus megjelenést kölcsönözve nekik. A játék generáló algoritmusa nem volt eléggé kidolgozott, ahhoz, hogy valóra váltsa az ígérteket.
\newline
\newline A \textit{Spore}-ban a fő hangsúly a különböző lények és bolygók generálásán volt. A játékban szereplő összes lény teljes mértékben generált volt és semmilyen modellt nem használtak a létrehozásukhoz. Ezért az összes élőlény animációja akkor jött létre, amikor a játékos megalkotta őket, az alapján ahogyan megalkotta őket. Például, ha a játékos egy négy lábú lényt készített, akkor arra számíthatott, hogy úgy fog mozogni mint egy ló. A játék legelső bemutatásakor a készítők egy három lábú lényen mutatták be, hogy hogyan működik a folyamat és az algoritmus megállapította, hogy hogyan fog mozogni az általuk létrehozott lény. A játék különböző szakaszaiban a lények különböző képességekre tesznek szert vadászat, evés, úszás, különböző objektum megfogása, tánc amiket szintén algoritmus generál. A készítők bemutattak különböző előre elkészített lényeket, amelyek realisztikusan mozogtak annak ellenére, hogy például volt olyan amelyiknek több feje és 6 lába volt.
\newline
\newline Az ismertetett példák többségében megfelelően használták a procedurális generálást a tartalom előállítására. A \textit{Civilization} arra használta, hogy elrendezze a terepet és a nyersanyagokat a térképen. A \textit{Minecraft} sikerének az egyik oka a procedurálisan generált térkép. Azt láthatjuk, hogy magával a procedurális generálásnak a használatával semmi probléma nincs, abban az esetben, ha megfelelően alkalmazzák azt. Megfelelő alatt azt értem, hogy amikor valami különös, egyedi megjelenés a cél vagy a játék szempontjából szükségét látják annak, hogy a játékos minden alkalommal más lényekkel vagy térképpel találkozzon, ilyen esetekben hozzá tud adni a játékhoz. De amikor túlzásba viszik vagy nincs megfelelően kidolgozva, akkor könnyen tönkreteheti vagy elvehet a játékélményből. 
\newline
\newline Első ránézésre úgy tűnhet, mintha a procedurális generálás valami varázslat lenne a játékfejlesztésben, ami egy csapásra megold minden problémát. Mivel elméleti síkon végtelen számú variációjú tartalmat képes generálni, ami végtelen számú újrajátszhatósági értéket jelentene a játék számára, mivel minden egyes alkalommal mást kellene látnunk.
\newline
\newline Gyakorlatban ez nem így működik, gyakran pont az ellenkezőjét sikerül elérni és nagyon nehéz megtalálni a helyes egyensúlyt. Ezáltal beláthatjuk, hogy a kevesebb néha több, hogy klasszikust idézzek.

